{% extends 'base.html' %}
{% load static %}

{% block title %}–î–æ–±–∞–≤–∏—Ç—å –Ω–∞–≤—ã–∫ ‚Äî SkillSwap{% endblock %}

{% block content %}
<div class="skill-create-container">
    <div class="skill-create-card">
        <div class="skill-create-header">
            <h2>‚ûï –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –Ω–∞–≤—ã–∫</h2>
        </div>

        {% if messages %}
            {% for message in messages %}
                <div class="alert alert-success">
                    {{ message }}
                </div>
            {% endfor %}
        {% endif %}

        {% if form.non_field_errors %}
            <div class="alert alert-error">
                {% for error in form.non_field_errors %}
                    {{ error }}
                {% endfor %}
            </div>
        {% endif %}

        <form method="post" class="skill-create-form" id="skillCreateForm" novalidate>
            {% csrf_token %}

            <div class="form-group">
                <div class="input-wrapper">
                    <input type="text" id="name" name="name" value="{{ form.name.value|default:'' }}" required autocomplete="off">
                    <label for="name">–ù–∞–∑–≤–∞–Ω–∏–µ –Ω–∞–≤—ã–∫–∞</label>
                </div>
                <span class="error-message" id="nameError"></span>
                {% if form.name.errors %}
                    <span class="error-message">{{ form.name.errors }}</span>
                {% endif %}
            </div>

            <div class="form-group">
                <div class="input-wrapper">
                    <textarea id="description" name="description" required>{{ form.description.value|default:'' }}</textarea>
                    <label for="description">–û–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–≤—ã–∫–∞</label>
                </div>
                <span class="error-message" id="descriptionError"></span>
                {% if form.description.errors %}
                    <span class="error-message">{{ form.description.errors }}</span>
                {% endif %}
            </div>

            <div class="form-group">
                <div class="input-wrapper">
                    <select id="level" name="level" required>
                        <option value="" disabled selected>–í—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å</option>
                        {% for value, label in form.level.field.choices %}
                            {% if value %}
                                <option value="{{ value }}" {% if form.level.value == value %}selected{% endif %}>{{ label }}</option>
                            {% endif %}
                        {% endfor %}
                    </select>
                    <label for="level">–£—Ä–æ–≤–µ–Ω—å –≤–ª–∞–¥–µ–Ω–∏—è</label>
                </div>
                <span class="error-message" id="levelError"></span>
                {% if form.level.errors %}
                    <span class="error-message">{{ form.level.errors }}</span>
                {% endif %}
            </div>

            <div class="form-group">
                <div class="input-wrapper">
                    <select id="category" name="category" required>
                        <option value="" disabled selected>–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>
                        {% for category in form.category.field.queryset %}
                            <option value="{{ category.id }}" {% if form.category.value == category.id %}selected{% endif %}>{{ category.name }}</option>
                        {% endfor %}
                    </select>
                    <label for="category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                </div>
                <span class="error-message" id="categoryError"></span>
                {% if form.category.errors %}
                    <span class="error-message">{{ form.category.errors }}</span>
                {% endif %}
            </div>

            <button type="submit" class="skill-create-btn">
                <span class="btn-text">üì§ –î–æ–±–∞–≤–∏—Ç—å –Ω–∞–≤—ã–∫</span>
                <span class="btn-loader"></span>
            </button>
        </form>

        <div class="back-link">
            <a href="{% url 'profile' %}">‚Üê –ù–∞–∑–∞–¥ –≤ –ø—Ä–æ—Ñ–∏–ª—å</a>
        </div>
    </div>
</div>

<link rel="stylesheet" href="{% static 'css/skill_create.css' %}">
<script src="{% static 'js/skill_create.js' %}"></script>
{% endblock %}